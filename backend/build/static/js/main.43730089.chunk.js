(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{231:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(59),o=n.n(i),c=n(9),s=n(3),d=n(34),l=n.n(d),p=n(5),u=n.n(p),b=n(6),x=n(4),f=n(99),m=n.n(f).a.create({baseURL:"http://localhost:4000"}),j=n(1),h=Object(r.createContext)();function g(e){var t=e.children,n=Object(r.useState)(""),a=Object(x.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)((function(){var e=localStorage.getItem("@Instagram:token"),t=localStorage.getItem("@Instagram:user");return e&&t?(m.defaults.headers.authorization="Bearer ".concat(e),{token:e,user:JSON.parse(t)}):{token:null,user:null}})),s=Object(x.a)(c,2),d=s[0],l=s[1],p=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,a,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,e.next=3,m.post("/user/signin",{username:n,password:r});case 3:if(201!==(a=e.sent).status){e.next=13;break}return i=a.data.accessToken,m.defaults.headers.authorization="Bearer ".concat(i),e.next=9,m.get("/user/auth/me");case 9:o=e.sent,localStorage.setItem("@Instagram:token",i),localStorage.setItem("@Instagram:user",JSON.stringify(o.data)),l({user:o.data,token:i});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);function f(){localStorage.removeItem("@Instagram:token"),localStorage.removeItem("@Instagram:token"),l({token:null,user:null})}var g=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,a,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.password,a=t.name,i=t.email,c=t.bio,e.prev=1,e.next=4,m.post("/user/update",{username:n,password:r,name:a,email:i,bio:c});case 4:201===e.sent.status&&(f(),o("")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(j.jsx)(h.Provider,{value:{user:d.user,error:i,signIn:p,signOut:f,editUser:g,setError:o},children:t})}function O(){var e=Object(r.useContext)(h);if(!e)throw new Error("use Auth must be used within a AuthProvider  ");return e}var w=Object(r.createContext)();function y(e){var t=e.children,n=Object(r.useState)(null),a=Object(x.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(!1),s=Object(x.a)(c,2),d=s[0],l=s[1],p=Object(r.useState)(!1),f=Object(x.a)(p,2),h=f[0],g=f[1],O=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("file",t.file,t.file.name),n.append("body",t.body),e.next=6,m.post("/photo/upload",n);case 6:201===(r=e.sent).status&&o(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),500===e.t0.response.status&&g(!0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[]),y=Object(r.useCallback)((function(){o(null),l(!1),g(!1)}),[]);return Object(j.jsx)(w.Provider,{value:{data:i,loading:d,error:h,uploadPhotoAction:O,resetValues:y},children:t})}function v(){var e=Object(r.useContext)(w);if(!e)throw new Error("useUpload must be used within a UploadProvider  ");return e}var k=Object(r.createContext)();function C(e){var t=e.children,n=Object(r.useState)([]),a=Object(x.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(!1),s=Object(x.a)(c,2),d=s[0],l=s[1],p=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return l(!0),e.next=5,m.get("/user/search/".concat(t));case 5:200===(n=e.sent).status&&o(n.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.message);case 12:return e.prev=12,l(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(j.jsx)(k.Provider,{value:{users:i,loading:d,searchAction:p,setUsers:o},children:t})}function _(){var e=Object(r.useContext)(k);if(!e)throw new Error("useSearch must be used within a SearchProvider  ");return e}var I=Object(r.createContext)();function N(e){var t=e.children,n=Object(r.useState)([]),a=Object(x.a)(n,2),i=a[0],o=a[1],c=Object(r.useState)(!1),s=Object(x.a)(c,2),d=s[0],l=s[1],p=Object(r.useCallback)(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,m.get("/feed/follows");case 4:200===(t=e.sent).status&&o(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:return e.prev=11,l(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])}))),[]),f=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o((function(e){return e.filter((function(e){return e.i!==t}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(j.jsx)(I.Provider,{value:{follows:i,loading:d,getFollows:p,removeFollow:f},children:t})}function S(){var e=Object(r.useContext)(I);if(!e)throw new Error("useFollow must be used within a FollowProvider  ");return e}var z=Object(r.createContext)();function F(e){var t=e.children,n=Object(r.useState)([]),a=Object(x.a)(n,2),i=a[0],o=a[1],c=Object(r.useCallback)(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("/feed");case 3:200===(t=e.sent).status&&o(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),s=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.delete("/photo/".concat(t.id));case 3:200===e.sent.status&&o((function(e){return e.filter((function(e){return e.photo.id!==t.id}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[]),d=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.post("/follow/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(j.jsx)(z.Provider,{value:{getFeeds:c,feeds:i,deletePhotoAction:s,deleteFollowAction:d},children:t})}function P(){var e=Object(r.useContext)(z);if(!e)throw new Error("useFeed must be used within a FeedProvider  ");return e}function E(e){var t=e.children;return Object(j.jsx)(g,{children:Object(j.jsx)(y,{children:Object(j.jsx)(N,{children:Object(j.jsx)(C,{children:Object(j.jsx)(F,{children:t})})})})})}var A,R,U,L,B=n(7),T=n(8),D=n.p+"static/media/avatar.43e64566.png",M=s.default.div(A||(A=Object(c.a)(["\n  display: flex;\n  flex-direction: ",";\n  align-items: ",";\n  justify-content: ",";\n  line-height: 20px;\n  a {\n    text-decoration: none;\n  }\n  @media (min-width: 1000px) {\n    flex-direction: row;\n    align-items: center;\n    justify-content: flex-start;\n    margin-bottom: ",";\n  }\n  @media (max-width: 1000px) {\n    margin-right: ",";\n    justify-content: center;\n    align-items: center;\n  }\n  div {\n    display: flex;\n    flex-direction: column;\n  }\n"])),(function(e){return e.direction}),(function(e){return"row"===e.direction?"center":""}),(function(e){return"column"===e.direction?"center":""}),(function(e){return e.usidebar?"10px":""}),(function(e){return e.usidebar?"10px":""})),q=s.default.img(R||(R=Object(c.a)(["\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  background: url(",");\n  background-position: center;\n  background-size: cover;\n  margin-right: 16px;\n  @media (min-width: 1000px) {\n    width: ",";\n    height: ",";\n  }\n  @media (max-width: 1000px) {\n    margin-right: ",";\n  }\n"])),(function(e){return e.usidebar||e.isOwner?"56px":"30px"}),(function(e){return e.usidebar||e.isOwner?"56px":"30px"}),(function(e){return e.src}),(function(e){return e.usidebar&&"30px"}),(function(e){return e.usidebar&&"30px"}),(function(e){return e.usidebar?"0":"16px"})),V=s.default.span(U||(U=Object(c.a)(["\n  font: bold 13.5px 'Roboto';\n  color: #2c2c2c;\n  letter-spacing: 0.4px;\n  @media (max-width: 1000px) {\n    font: ",";\n  }\n"])),(function(e){return e.usidebar?"normal 13.5px Roboto":""})),G=s.default.span(L||(L=Object(c.a)(["\n  color: #2c2c2c;\n  letter-spacing: 0.4px;\n  @media (max-width: 1000px) {\n    display: none;\n  }\n"])));function J(e){var t=e.direction,n=e.usidebar,r=void 0!==n&&n,a=e.img,i=e.isOwner,o=void 0!==i&&i,c=e.username,s=e.name;return Object(j.jsxs)(M,{direction:t,usidebar:r,children:[Object(j.jsx)(B.b,{to:"/profile/".concat(c),children:a?Object(j.jsx)(q,{src:"data:image/png;base64, ".concat(a),alt:"avatar",usidebar:r,isOwner:o}):Object(j.jsx)(q,{src:D,usidebar:r,isOwner:o})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(B.b,{to:"/profile/".concat(c),children:c&&Object(j.jsx)(V,{usidebar:r,children:c})}),s&&Object(j.jsx)(G,{children:s})]})]})}var W,K=n(18),Z=n.p+"static/media/logo.888d5c91.png",H=s.default.header.withConfig({displayName:"styles__Nav",componentId:"l1coj4-0"})(["background-color:#fff;width:100%;height:52px;position:fixed;right:0;left:0;top:0;z-index:1;border-bottom:1px solid #e6e6e6;transition:all 300ms ease-in-out;display:flex;align-items:center;"]),Q=s.default.div.withConfig({displayName:"styles__Container",componentId:"l1coj4-1"})(["max-width:975px;width:100%;margin:0 auto;display:flex;align-items:center;justify-content:space-between;@media (max-width:1000px){max-width:975px;}"]),X=s.default.img.withConfig({displayName:"styles__Img",componentId:"l1coj4-2"})(["height:5.6rem;"]),Y=s.default.div.withConfig({displayName:"styles__ContainerSearch",componentId:"l1coj4-3"})(["display:flex;align-items:center;position:relative;padding:8px 4px 8px 2px;font:400 13.333px Arial;background-color:#fafafa;border:1px solid #e6e6e6;border-radius:4px;outline:0px;padding-left:5px;@media (max-width:500px){display:none;}"]),$=s.default.input.withConfig({displayName:"styles__Input",componentId:"l1coj4-4"})(["outline:0;border:none;margin-left:5px;background-color:#fafafa;"]),ee=s.default.div.withConfig({displayName:"styles__ContainerOptions",componentId:"l1coj4-5"})(["color:rgba(0,0,0,0.7);text-decoration:none;font:400 24px Arial;margin-left:20px;> svg{cursor:pointer;}a{margin-right:14px;}"]),te=s.default.form.withConfig({displayName:"styles__Container",componentId:"sc-100s9fh-0"})(["width:100%;padding:16px 14px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),ne=s.default.img.withConfig({displayName:"styles__ImagePreview",componentId:"sc-100s9fh-1"})(["width:150px;height:150px;border-radius:5px;cursor:pointer;object-fit:cover;object-position:center;"]),re=s.default.div.withConfig({displayName:"styles__MessagePreview",componentId:"sc-100s9fh-2"})(["display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:bold;width:100%;padding:16px;border:1px dashed #2c2c2c;border-radius:2px;color:#2c2c2c;cursor:pointer;"]),ae=s.default.textarea.withConfig({displayName:"styles__Body",componentId:"sc-100s9fh-3"})(["width:100%;padding:16px 16px;height:100px;font-family:'Roboto',sans-serif;border-radius:5 px;border:1px solid #e6e6e6;resize:none;margin:10px 0;"]),ie=s.default.button.withConfig({displayName:"styles__Button",componentId:"sc-100s9fh-4"})(["width:100%;padding:16px;font-weight:bold;background:",";border:none;border-radius:5px;color:#fff;cursor:pointer;text-align:center;&:disabled{background-color:",";}"],(function(e){return e.error?"#f44850":"#3897f0"}),(function(e){return e.error?"#F44850":"#e6e6e6"}));function oe(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=v(),a=n.error,i=n.loading,o=n.resetValues,c=n.uploadPhotoAction,s=Object(r.useState)(""),d=Object(x.a)(s,2),l=d[0],p=d[1],u=Object(r.useState)(""),b=Object(x.a)(u,2),f=b[0],m=b[1],h=Object(r.useState)(!0),g=Object(x.a)(h,2),O=g[0],w=g[1],y=Object(r.useCallback)((function(t){t.preventDefault();var n={file:e.current.files[0],body:f};c(n),w(!0)}),[f]),k=Object(r.useCallback)((function(e){o(),e.target.files[0]?(p(URL.createObjectURL(e.target.files[0])),w(!1)):p(""),t.current.focus()}),[o]),C=Object(r.useCallback)((function(e){m(e.target.value),f.trim().length>0?w(!1):w(!0)}),[f]);return Object(j.jsxs)(te,{onSubmit:y,enctype:"multipart/form-data",children:[l?Object(j.jsx)(ne,{src:l,title:"image preview",onClick:function(){return e.current.click()}}):Object(j.jsx)(re,{onClick:function(){return e.current.click()},children:"Select your photo"}),Object(j.jsx)("input",{ref:e,name:"file",type:"file",onChange:k,accept:"image/*",style:{display:"none"}}),Object(j.jsx)(ae,{placeholder:"Enter some description",value:f,onChange:C,ref:t}),Object(j.jsx)(ie,{type:"submit",disabled:O,error:a,children:i?Object(j.jsx)("p",{children:"Loading..."}):a?"Image too big":"Publish"})]})}var ce=l.a.styled(W||(W=Object(c.a)(["\n    width: 20rem;\n    height: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: white;\n    opacity: ",";\n    transition: opacity ease 500ms;\n    border-radius: .5rem\n"])),(function(e){return e.opacity})),se=s.default.ul.withConfig({displayName:"styles__MoreOptions",componentId:"sc-1h1747t-0"})(["width:100%;text-align:center;color:#2c2c2c;font-weight:bold;font-size:14px;li{list-style:none;padding:20px;border-bottom:1px solid #e6e6e6;border-radius:10px;cursor:pointer;a{text-decoration:none;color:#2c2c2c;}transition:all 250ms ease-in-out;&.red{color:#fc4850;}&:hover{background-color:#e6e6e6;}}"]);function de(){var e=Object(r.useState)(!1),t=Object(x.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(0),o=Object(x.a)(i,2),c=o[0],s=o[1],d=v(),l=d.data,p=d.resetValues,u=Object(r.useCallback)((function(){a(!n)}),[n]),b=Object(r.useCallback)((function(){setTimeout((function(){s(1)}),100)}),[]),f=Object(r.useCallback)((function(){return new Promise((function(e){s(0),setTimeout(e,300)}))}),[]);return Object(r.useEffect)((function(){l&&(u(),p())}),[l,p,u]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(K.b,{size:30,onClick:u}),Object(j.jsx)(ce,{isOpen:n,afterOpen:b,beforeClose:f,onBackgroundClick:u,onEscapeKeydown:u,opacity:c,backgroundProps:{opacity:c},children:Object(j.jsx)(oe,{})})]})}var le=s.default.div.withConfig({displayName:"styles__Container",componentId:"sc-1h9tib2-0"})(["&::before{content:'';width:15px;height:15px;transform:rotate(45deg);background:#fff;border:1px solid #e6e6e6;position:absolute;top:-9px;right:50%;}&::after{content:'';width:30px;height:15px;background:red;position:absolute;background:#fff;top:0px;right:48%;z-index:0;}position:absolute;top:50px;background:#fff;left:-50px;width:280px;height:250px;border-radius:5px;border:1px solid #e6e6e6;z-index:2;-webkit-box-shadow:3px 5px 8px -4px rgba(44,44,44,0.55);-moz-box-shadow:3px 5px 8px -4px rgba(44,44,44,0.55);box-shadow:3px 5px 8px -4px rgba(44,44,44,0.55);"]),pe=s.default.div.withConfig({displayName:"styles__ContainerResult",componentId:"sc-1h9tib2-1"})(["display:flex;flex-wrap:wrap;flex-direction:flex-start;align-items:flex-start;overflow:auto;width:100%;height:100%;"]),ue=s.default.div.withConfig({displayName:"styles__ContainerProfile",componentId:"sc-1h9tib2-2"})(["width:100%;display:flex;padding:12px 12px;z-index:1;border-bottom:1px solid #e6e6e6;cursor:pointer;text-decoration:none;"]),be=Object(s.default)(ue).withConfig({displayName:"styles__ContainerEmpty",componentId:"sc-1h9tib2-3"})(["text-align:center;color:#c2c2c2;font-size:12px;font-weight:bold;"]),xe=s.default.div.withConfig({displayName:"styles__Container",componentId:"sc-164w8a7-0"})(["width:40px;height:40px;margin:10px auto;background-color:#333;border-radius:100%;-webkit-animation:sk-scaleout 1s infinite ease-in-out;animation:sk-scaleout 1s infinite ease-in-out;@-webkit-keyframes sk-scaleout{0%{-webkit-transform:scale(0);}100%{-webkit-transform:scale(1);opacity:0;}}@keyframes sk-scaleout{0%{-webkit-transform:scale(0);transform:scale(0);}100%{-webkit-transform:scale(1);transform:scale(1);opacity:0;}}"]);function fe(){return Object(j.jsx)(xe,{})}function me(e){var t=e.toggleClose,n=_(),r=n.loading,a=n.users;return Object(j.jsx)(le,{children:r?Object(j.jsx)(fe,{style:{marginTop:"10px"}}):Object(j.jsx)(pe,{children:a.length>0?a.map((function(e){return Object(j.jsx)(ue,{onClick:t,children:Object(j.jsx)(J,{direction:"row",img:e.avatar,username:e.username,name:e.name})},e.id)})):Object(j.jsx)(be,{children:Object(j.jsx)("p",{children:"No Results \u2022"})})})})}function je(){var e=Object(r.useState)(""),t=Object(x.a)(e,2),n=t[0],a=t[1],i=O(),o=i.user,c=i.signOut,s=_(),d=s.searchAction,l=s.setUsers,p=null;Object(r.useEffect)((function(){return clearTimeout(p),n.trim()&&(p=setTimeout((function(){d(n)}),1e3)),function(){l([])}}),[d,n,l]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(H,{children:Object(j.jsxs)(Q,{children:[Object(j.jsx)(B.b,{to:"/",children:Object(j.jsx)(X,{src:Z,alt:"logo"})}),Object(j.jsxs)(Y,{children:[Object(j.jsx)(K.d,{color:"#ccc",size:15}),Object(j.jsx)($,{placeholder:"Search",value:n,onChange:function(e){return a(e.target.value)}}),n.length>0&&Object(j.jsx)(me,{toggleClose:function(){a("")}})]}),Object(j.jsxs)(ee,{children:[Object(j.jsx)(de,{}),Object(j.jsx)(B.b,{to:"/profile/".concat(o&&o.username),children:Object(j.jsx)(K.f,{color:"#222",size:25})}),Object(j.jsx)(K.e,{onClick:c,size:25,color:"#222"})]})]})})})}function he(e){var t=e.children;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(je,{}),t]})}var ge=s.default.div.withConfig({displayName:"styles__Container",componentId:"k5amdx-0"})(["max-width:600px;width:100%;padding-top:100px;margin:0 auto;@media (max-width:640px) and (max-width:1000px){padding-top:75px;width:100%;}@media (min-width:1000px){display:grid;max-width:900px;grid-template-columns:2fr 1fr;column-gap:30px;}"]),Oe=s.default.div.withConfig({displayName:"styles__Aside",componentId:"k5amdx-1"})(["width:100%;font:400 14px 'Roboto';letter-spacing:0.3px;@media (min-width:1000px){max-width:293px;height:80vh;position:sticky;top:80px;grid-column:2 / 3;}"]),we=s.default.div.withConfig({displayName:"styles__ContainerOwner",componentId:"k5amdx-2"})(["width:100%;margin-bottom:20px;padding:0 0 0 4px;@media (max-width:1000px){display:none;}"]),ye=s.default.div.withConfig({displayName:"styles__ContainerFollows",componentId:"k5amdx-3"})(["width:100%;display:flex;background:#fff;border:1px solid #e6e6e6;border-radius:3px;padding:16px 24px;font:400 14px Arial;margin-bottom:20px;height:120px;@media (max-width:640px){margin-bottom:0;}@media (min-width:1000px){background-color:#fff;border:1px solid #e6e6e6;padding-bottom:10px;flex-direction:column;overflow-y:auto;height:270px;::-webkit-scrollbar{background:transparent;}}@media (max-width:1000px){overflow-y:hidden;overflow-x:scroll;span{font-size:12px;}height:120px;::-webkit-scrollbar{background:transparent;}}"]),ve=(s.default.div.withConfig({displayName:"styles__ContainerFooter",componentId:"k5amdx-4"})(["width:100%;font-size:9px;color:#999999;@media (max-width:1000px){display:none;}"]),s.default.div.withConfig({displayName:"styles__ContainerFeeds",componentId:"k5amdx-5"})(["width:100%;max-width:614px;@media (min-width:1000px){grid-row:1 / 2;}"])),ke=n(12),Ce=n(27),_e=n.n(Ce),Ie=n(44),Ne=n.n(Ie),Se=n(28),ze=n.n(Se),Fe=n(45);function Pe(e){var t=e.isAuthor,n=e.photo,a=Object(r.useState)(!1),i=Object(x.a)(a,2),o=i[0],c=i[1],s=Object(r.useState)(0),d=Object(x.a)(s,2),l=d[0],p=d[1],u=S().removeFollow,b=P(),f=b.deletePhotoAction,m=b.deleteFollowAction,h=Object(r.useCallback)((function(){setTimeout((function(){p(1)}),100)}),[]),g=Object(r.useCallback)((function(){return new Promise((function(e){p(0),setTimeout(e,300)}))}),[]),O=Object(r.useCallback)((function(){c(!o)}),[o]),w=Object(r.useCallback)((function(e){f(e),O()}),[O]),y=Object(r.useCallback)((function(e){m(e),u(e),O()}),[m,u,O]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Fe.b,{size:20,onClick:O}),Object(j.jsx)(ce,{isOpen:o,afterOpen:h,beforeClose:g,onBackgroundClick:O,onEscapeKeydown:O,opacity:l,backgroundProps:{opacity:l},children:t?Object(j.jsxs)(se,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(B.b,{to:"/photo/".concat(n.id),children:"Go to Publication"})}),Object(j.jsx)("li",{className:"red",onClick:function(){return w(n)},children:"Delete Publication"}),Object(j.jsx)("li",{onClick:O,children:"Cancel"})]}):Object(j.jsxs)(se,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(B.b,{to:"/photo/".concat(n.id),children:"Go to Publication"})}),Object(j.jsx)("li",{className:"red",onClick:function(){return y(n.user_id)},children:"Stop Following"}),Object(j.jsx)("li",{onClick:O,children:"Cancel"})]})})]})}var Ee=s.default.div.withConfig({displayName:"styles__Card",componentId:"sc-1e61drl-0"})(["background-color:#fff;border:1px solid #e6e6e6;border-radius:3px;float:left;display:flex;flex-direction:column;margin-bottom:60px;width:100%;@media (max-width:640px){margin-bottom:0;border:0;}@media (min-width:640px) and (max-width:736px){margin-bottom:15px;border:1px solid #e6e6e6;}"]),Ae=s.default.div.withConfig({displayName:"styles__CardHeader",componentId:"sc-1e61drl-1"})(["display:flex;justify-content:space-between;align-items:center;padding:16px;"]),Re=s.default.img.withConfig({displayName:"styles__PhotoCard",componentId:"sc-1e61drl-2"})(["width:100%;object-fit:cover;max-height:730px;object-position:center;"]),Ue=s.default.div.withConfig({displayName:"styles__CardControls",componentId:"sc-1e61drl-3"})(["display:flex;align-items:center;padding:4px 16px;"]),Le=s.default.div.withConfig({displayName:"styles__CardDetails",componentId:"sc-1e61drl-4"})(["font:400 14px 'Roboto';padding:4px 16px;letter-spacing:0.3px;"]),Be=s.default.span.withConfig({displayName:"styles__TimeAgo",componentId:"sc-1e61drl-5"})(["color:#999999;font-size:10px;letter-spacing:0.2px;text-transform:uppercase;"]),Te=s.default.div.withConfig({displayName:"styles__CardFooter",componentId:"sc-1e61drl-6"})(["width:100%;border-top:1px solid #f6f6f6;padding:2px 16px;form{display:flex;align-items:center;justify-content:space-between;input{&[type='text']{height:60px;width:100%;border:none;font:400 13.333px 'Roboto';outline:0px;color:#262626;}}button{background-color:transparent;color:#3897f0;font:bold 13px 'Roboto';border:none;outline:0px;cursor:pointer;letter-spacing:0.4px;&:disabled{color:#e6e6e6;}}}@media (max-width:736px){display:none;}"]),De=n(100),Me=n.n(De),qe=s.default.div.withConfig({displayName:"styles__Container",componentId:"sc-11ieuvw-0"})(["width:100%;line-height:20px;margin-bottom:10px;"]),Ve=s.default.div.withConfig({displayName:"styles__Comment",componentId:"sc-11ieuvw-1"})(["font-weight:bold;display:flex;justify-content:space-between;div{a{text-decoration:none;color:#262626;}span{color:#262626;}}span{color:#999999;font-weight:normal;letter-spacing:0.2px;margin-left:10px;}"]),Ge=s.default.span.withConfig({displayName:"styles__StylesTimeAgo",componentId:"sc-11ieuvw-2"})(["color:#999999;font-size:10px;letter-spacing:0.2px;text-transform:uppercase;"]);function Je(e){var t=e.comments,n=ze()(Me.a);return Object(j.jsx)(qe,{children:t&&t.map((function(e){return Object(j.jsxs)(Ve,{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(B.b,{to:"/profile/".concat(e.user.username),children:e.user.username}),Object(j.jsx)("span",{children:e.body})]}),Object(j.jsx)(Ge,{children:Object(j.jsx)(_e.a,{date:"".concat(e.createdAt,"Z"),formatter:n})})]},e.id)}))})}var We=ze()(Ne.a);function Ke(e){var t=e.feed,n=t.isAuthor,a=t.isLiked,i=t.photo,o=Object(r.useState)(i.comment),c=Object(x.a)(o,2),s=c[0],d=c[1],l=Object(r.useState)(a),p=Object(x.a)(l,2),f=p[0],h=p[1],g=Object(r.useState)(""),O=Object(x.a)(g,2),w=O[0],y=O[1],v=Object(r.useState)(!0),k=Object(x.a)(v,2),C=k[0],_=k[1],I=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.post("/comment/".concat(i.id),{body:w});case 3:201===(n=e.sent).status&&d((function(e){return[].concat(Object(ke.a)(e),[n.data])})),y(""),_(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i.id,w]),N=Object(r.useCallback)(function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("/like/".concat(t));case 2:201===e.sent.status&&h(!f);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[f]);return Object(r.useEffect)((function(){w.length>5?_(!1):_(!0)}),[w]),Object(j.jsxs)(Ee,{children:[Object(j.jsxs)(Ae,{children:[Object(j.jsx)(J,{direction:"row",img:i.user.avatar,username:i.user.username}),Object(j.jsx)(Pe,{isAuthor:n,photo:i})]}),Object(j.jsx)(Re,{src:"data:image/png;base64, ".concat(i.key)}),Object(j.jsxs)(Ue,{children:[f?Object(j.jsx)(K.c,{onClick:function(){return N(i.id)},size:18,style:{color:"#fc4850",marginRight:10}}):Object(j.jsx)(Fe.a,{onClick:function(){return N(i.id)},size:18,style:{marginRight:10}}),Object(j.jsx)(B.b,{to:"/photo/".concat(i.id),children:Object(j.jsx)(K.a,{size:18,color:"#2c2c2c"})})]}),Object(j.jsxs)(Le,{children:[Object(j.jsxs)("p",{style:{fontWeight:"bold"},children:[i.user.username,Object(j.jsx)("span",{style:{marginLeft:5,fontWeight:"normal",marginBottom:10,display:"inline-block"},children:i.body})]}),Object(j.jsx)(r.Suspense,{fallback:Object(j.jsx)("p",{children:"Loading.."}),children:s.length>0&&Object(j.jsx)(Je,{comments:s})}),Object(j.jsx)(Be,{children:Object(j.jsx)(_e.a,{date:"".concat(i.createdAt,"Z"),formatter:We})}),Object(j.jsx)(B.b,{to:"/photo/".concat(i.id),style:{fontWeight:"bold",textDecoration:"none",color:"#999",marginTop:"10px",display:"block"},children:"More details.."})]}),Object(j.jsx)(Te,{children:Object(j.jsxs)("form",{onSubmit:I,children:[Object(j.jsx)("input",{type:"text",value:w,onChange:function(e){return y(e.target.value)},placeholder:"Add new Comment"}),Object(j.jsx)("button",{type:"submit",disabled:C,children:"Publish"})]})})]})}function Ze(){var e=O().user,t=S(),n=t.follows,a=t.loading,i=t.getFollows,o=P(),c=o.getFeeds,s=o.feeds;return Object(r.useEffect)((function(){i(),c()}),[c,i]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(he,{children:Object(j.jsxs)(ge,{children:[Object(j.jsxs)(Oe,{children:[Object(j.jsx)(we,{children:Object(j.jsx)(J,{img:e&&e.avatar,username:e&&e.username,isOwner:!0,name:e&&e.name})}),Object(j.jsxs)(ye,{children:[n&&n.map((function(e){return Object(j.jsx)(J,{direction:"column",usidebar:!0,username:e.username,img:e.avatar,name:e.name},e.id)})),a&&Object(j.jsx)(fe,{})]})]}),Object(j.jsx)(ve,{children:s.length>0&&s.map((function(e){return Object(j.jsx)(Ke,{feed:e},e.photo.id)}))})]})})})}var He=n(15),Qe=n(47),Xe=s.default.div.withConfig({displayName:"styles__Container",componentId:"sc-1lmo0zd-0"})(["height:100vh;display:flex;justify-content:center;align-items:center;@media (max-width:450px){align-items:flex-start;}"]),Ye=s.default.img.withConfig({displayName:"styles__Gif",componentId:"sc-1lmo0zd-1"})(["display:none;margin-right:100px;@media (min-width:870px){display:block;}"]),$e=s.default.div.withConfig({displayName:"styles__FormContainer",componentId:"sc-1lmo0zd-2"})(["width:100%;height:auto;@media (min-width:450px){max-width:350px;}"]),et=Object(s.default)(Qe.a).withConfig({displayName:"styles__Form",componentId:"sc-1lmo0zd-3"})(["background:#fff;width:100%;border:1px solid #e6e6e6;border-radius:4px;padding:20px 40px;display:flex;flex-direction:column;align-items:center;> img{width:230px;}@media (max-width:450px){background:transparent;border:0;}hr{width:100%;color:#e6e6e6;margin:30px 0;}span{text-align:center;color:#999;font-size:20px;margin:15px 0;&.footer{font-size:12px;}}input{width:100%;margin-bottom:7px;padding:10px 8px;font:400 13.333px Arial;background-color:#fff;border:1px solid #e6e6e6;border-radius:4px;}button{width:100%;padding:9px 9px;background-color:#3897f0;border:1px solid #3897f0;border-radius:4px;margin-top:20px;font:bold 13.333px Arial;color:#fff;cursor:pointer;outline:0px;&:hover{background-color:#38ff;}}"]),tt=s.default.div.withConfig({displayName:"styles__Footer",componentId:"sc-1lmo0zd-4"})(["background:#fff;width:100%;border:1px solid #e6e6e6;border-radius:4px;padding:20px 40px;margin-top:10px;display:flex;justify-content:center;@media (max-width:450px){background:transparent;border:0;}p{color:#999;font-size:15px;a{color:#3897f0;text-decoration:none;}}"]),nt=s.default.div.withConfig({displayName:"styles__ErrorMessage",componentId:"sc-1lmo0zd-5"})(["height:2rem;p{color:#fc4850;font-family:'Roboto',sans-serif;font-size:0.9rem;font-weight:400;}"]),rt=n(19),at=n(49),it=n(37),ot=s.default.div.withConfig({displayName:"styles__Container",componentId:"sc-13xlhx3-0"})(["width:100%;input{width:100%;margin-bottom:7px;padding:10px 8px;font:400 13.333px Arial;background-color:#fff;border:1px solid #e6e6e6;border-radius:6px;outline:none;}p{font-size:12px;color:#fc4850;margin-bottom:5px;align-items:center;text-align:center;text-transform:capitalize;}"]);function ct(e){var t=e.name,n=Object(at.a)(e,["name"]),a=Object(r.useRef)(null),i=Object(it.c)(t),o=i.fieldName,c=i.error,s=i.defaultValue,d=i.registerField;return Object(r.useEffect)((function(){d({name:o,ref:a.current,path:"value"})}),[o,d]),Object(j.jsxs)(ot,{children:[Object(j.jsx)("input",Object(rt.a)(Object(rt.a)({autoComplete:"off"},n),{},{defaultValue:s,ref:a})),c&&Object(j.jsx)("p",{children:c})]})}var st=a.a.memo(ct),dt=n.p+"static/media/gif.523a48d0.gif";function lt(e){var t={};return e.inner.forEach((function(e){t[e.path]=e.message})),t}function pt(){var e=Object(r.useRef)(null),t=Object(T.g)(),n=Object(r.useState)(""),a=Object(x.a)(n,2),i=a[0],o=a[1],c=function(){var n=Object(b.a)(u.a.mark((function n(r){var a,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.current.setErrors([]),a=He.b().shape({name:He.c().required(),email:He.c().required().email(),username:He.c().required().max(8),password:He.c().required()}),n.next=5,a.validate(r,{abortEarly:!1});case 5:return n.next=7,m.post("/user",r);case 7:t.push("/signin"),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),n.t0 instanceof He.a&&(i=lt(n.t0),e.current.setErrors(i)),n.t0.response&&o(n.t0.response.data.message);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)(Xe,{children:[Object(j.jsx)(Ye,{src:dt,alt:"gif"}),Object(j.jsxs)($e,{children:[Object(j.jsxs)(et,{onSubmit:c,ref:e,children:[Object(j.jsx)("img",{src:Z,alt:"logo"}),Object(j.jsx)("span",{children:"Register to upload images "}),Object(j.jsx)("hr",{}),i&&Object(j.jsx)(nt,{children:Object(j.jsx)("p",{children:i})}),Object(j.jsx)(st,{name:"name",placeholder:"Enter your name"}),Object(j.jsx)(st,{name:"username",placeholder:"Enter your username"}),Object(j.jsx)(st,{type:"password",name:"password",placeholder:"Enter your password"}),Object(j.jsx)(st,{name:"email",placeholder:"Enter your email"}),Object(j.jsx)("button",{type:"submit",children:"Register"}),Object(j.jsx)("hr",{}),Object(j.jsx)("span",{className:"footer",children:"By registering you accept our conditions, cookie policies and services"})]}),Object(j.jsx)(tt,{children:Object(j.jsxs)("p",{children:["Already have an account? ",Object(j.jsx)(B.b,{to:"signin",children:"Sign In!"})]})})]})]})}var ut,bt,xt,ft,mt,jt,ht,gt,Ot,wt=s.default.div.withConfig({displayName:"styles__Container",componentId:"sc-1c20lcr-0"})(["height:100vh;display:flex;justify-content:center;align-items:center;@media (max-width:450px){align-items:flex-start;}"]),yt=s.default.div.withConfig({displayName:"styles__FormContainer",componentId:"sc-1c20lcr-1"})(["width:100%;height:auto;@media (min-width:450px){max-width:350px;}"]),vt=Object(s.default)(Qe.a).withConfig({displayName:"styles__Form",componentId:"sc-1c20lcr-2"})(["background:#fff;width:100%;border:1px solid #e6e6e6;border-radius:4px;padding:20px 40px;display:flex;flex-direction:column;align-items:center;> img{width:230px;}@media (max-width:450px){background:transparent;border:0;}hr{width:100%;color:#e6e6e6;margin:30px 0;}span{text-align:center;color:#999;font-size:20px;margin:15px 0;&.footer{font-size:12px;}}input{width:100%;margin-bottom:7px;padding:10px 8px;font:400 13.333px Arial;background-color:#fff;border:1px solid #e6e6e6;border-radius:4px;}button{width:100%;padding:9px 9px;background-color:#3897f0;border:1px solid #3897f0;border-radius:4px;margin-top:20px;font:bold 13.333px Arial;color:#fff;cursor:pointer;outline:0px;&:hover{background-color:#38ff;}}"]),kt=s.default.div.withConfig({displayName:"styles__Footer",componentId:"sc-1c20lcr-3"})(["background:#fff;width:100%;border:1px solid #e6e6e6;border-radius:4px;padding:20px 40px;margin-top:10px;display:flex;justify-content:center;@media (max-width:450px){background:transparent;border:0;}p{color:#999;font-size:15px;a{color:#3897f0;text-decoration:none;}}"]),Ct=s.default.div.withConfig({displayName:"styles__ErrorMessage",componentId:"sc-1c20lcr-4"})(["height:2rem;p{color:#fc4850;font-family:'Roboto',sans-serif;font-size:0.9rem;font-weight:400;}"]);function _t(){var e=Object(r.useRef)(null),t=Object(T.g)(),n=O().signIn,a=Object(r.useState)(""),i=Object(x.a)(a,2),o=i[0],c=i[1],s=function(){var r=Object(b.a)(u.a.mark((function r(a){var i,o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.current.setErrors([]),i=He.b().shape({username:He.c().required("Username is Required").max(8),password:He.c().required("Password is Required").min(5)}),r.next=5,i.validate(a,{abortEarly:!1});case 5:return r.next=7,n({username:a.username,password:a.password});case 7:t.push("/"),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),r.t0 instanceof He.a&&(o=lt(r.t0),e.current.setErrors(o)),r.t0.response&&c(r.t0.response.data.message);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}();return Object(j.jsx)(wt,{children:Object(j.jsxs)(yt,{children:[Object(j.jsxs)(vt,{onSubmit:s,ref:e,children:[Object(j.jsx)("img",{src:Z,alt:"logo"}),Object(j.jsx)("span",{children:"Log in to watch photos and videos "}),Object(j.jsx)("hr",{}),o&&Object(j.jsx)(Ct,{children:Object(j.jsx)("p",{children:o})}),Object(j.jsx)(st,{name:"username",placeholder:"Enter your username"}),Object(j.jsx)(st,{type:"password",name:"password",placeholder:"Enter your password"}),Object(j.jsx)("button",{type:"submit",children:"Log In"}),Object(j.jsx)("hr",{}),Object(j.jsx)("span",{className:"footer",children:"Watch what your friends have prepared for you"})]}),Object(j.jsx)(kt,{children:Object(j.jsxs)("p",{children:["Don't have an Account yet? ",Object(j.jsx)(B.b,{to:"signup",children:"Sign Up!"})]})})]})})}var It=s.default.div(ut||(ut=Object(c.a)(["\n  max-width: 900px;\n  max-height: 700px;\n  width: 100%;\n  height: 100%;\n  padding-top: 100px;\n  margin: 0 auto;\n  display: flex;\n"]))),Nt=s.default.div(bt||(bt=Object(c.a)(["\n  background-color: #f6f6f6;\n  width: 100%;\n  max-width: 600px;\n  max-height: 600px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid #e6e6e6;\n  border-radius: 5px;\n"]))),St=s.default.div(xt||(xt=Object(c.a)(["\n  width: 100%;\n  max-width: 300px;\n  background: white;\n"]))),zt=s.default.div(ft||(ft=Object(c.a)(["\n  padding: 10px 16px;\n  font: 400 14px 'Roboto';\n  border-bottom: 1px solid #e6e6e6;\n  p {\n    font: 14px 'Roboto';\n    margin-top: 5px;\n  }\n"]))),Ft=s.default.img(mt||(mt=Object(c.a)(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  object-position: center;\n"]))),Pt=Object(s.default)(zt)(jt||(jt=Object(c.a)(["\n  max-height: 400px;\n  overflow: auto;\n"]))),Et=s.default.span(ht||(ht=Object(c.a)(["\n  color: #999999;\n  font-size: 10px;\n  letter-spacing: 0.2px;\n  text-transform: uppercase;\n"]))),At=(s.default.div(gt||(gt=Object(c.a)(["\n  max-height: 400px;\n  min-height: 400px;\n  overflow: auto;\n"]))),Object(s.default)(zt)(Ot||(Ot=Object(c.a)(["\n  color: indianred;\n"])))),Rt=ze()(Ne.a);function Ut(){var e=Object(T.h)().photoId,t=Object(r.useState)(null),n=Object(x.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)([]),c=Object(x.a)(o,2),s=c[0],d=c[1];return Object(r.useEffect)((function(){function t(){return(t=Object(b.a)(u.a.mark((function t(){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get("/photo/".concat(e));case 2:n=t.sent,r=n.data.photo,i(r),d(r.comment);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),a?Object(j.jsx)(he,{children:Object(j.jsxs)(It,{children:[Object(j.jsx)(Nt,{children:Object(j.jsx)(Ft,{src:"data:image/png;base64, ".concat(a.key)})}),Object(j.jsxs)(St,{children:[Object(j.jsxs)(zt,{children:[Object(j.jsx)(J,{img:a.user.avatar,username:a.user.username}),Object(j.jsx)("p",{style:{margin:"5px 0"},children:a.body})]}),Object(j.jsx)(Pt,{children:s.length>0?s.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)(J,{img:e.user.avatar,username:e.user.username}),Object(j.jsx)("p",{children:e.body}),Object(j.jsx)(Et,{children:Object(j.jsx)(_e.a,{date:"".concat(e.createdAt),formatter:Rt})})]})})):Object(j.jsx)("p",{children:"No comments "})}),Object(j.jsx)(At,{children:Object(j.jsxs)("span",{children:["\u2665 ",a.likes.length," Likes"]})})]})]})}):Object(j.jsx)(fe,{})}function Lt(e){var t=e.isPrivate,n=void 0!==t&&t,r=e.component,a=Object(at.a)(e,["isPrivate","component"]),i=O().user;return Object(j.jsx)(T.b,Object(rt.a)(Object(rt.a)({},a),{},{render:function(e){var t=e.location;return n===!!i?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(r,{})}):Object(j.jsx)(T.a,{to:{pathname:n?"/signin":"/",state:{from:t}}})}}))}var Bt=s.default.div.withConfig({displayName:"styles__Container",componentId:"sc-1e5v30z-0"})(["max-width:700px;width:100%;padding-top:100px;margin:0 auto;"]),Tt=s.default.div.withConfig({displayName:"styles__DescriptionContainer",componentId:"sc-1e5v30z-1"})(["display:grid;grid-template-columns:100px 1fr;align-items:center;padding:5px 20px;margin-bottom:30px;@media (min-width:735px){grid-template-columns:200px 1fr;}"]),Dt=s.default.img.withConfig({displayName:"styles__ImgProfile",componentId:"sc-1e5v30z-2"})(["width:80px;height:80px;border-radius:50%;object-fit:cover;object-position:center;@media (min-width:735px){width:150px;height:150px;grid-row:1 /3;}"]),Mt=s.default.div.withConfig({displayName:"styles__Username",componentId:"sc-1e5v30z-3"})(["font-size:24px;font-weight:normal;@media (min-width:735px){display:inline-block;}"]),qt=s.default.button.withConfig({displayName:"styles__Button",componentId:"sc-1e5v30z-4"})(["background:transparent;padding:8px 12px;border:1px solid #dbdbdb;border-radius:5px;margin:10px 0;@media (min-width:735px){width:100px;margin:0 0 10px 20px;}"]),Vt=Object(s.default)(qt).withConfig({displayName:"styles__ButtonFollow",componentId:"sc-1e5v30z-5"})(["border:1px solid #3897f0;background:#3897f0;color:white;"]),Gt=s.default.div.withConfig({displayName:"styles__CountsContainer",componentId:"sc-1e5v30z-6"})(["display:flex;justify-content:space-between;font-size:16px;"]),Jt=s.default.div.withConfig({displayName:"styles__Description",componentId:"sc-1e5v30z-7"})(["grid-column:1 / 3;margin:20px 0;p{font-size:20px;margin-bottom:10px;}"]),Wt=s.default.div.withConfig({displayName:"styles__ContainerPhotos",componentId:"sc-1e5v30z-8"})(["display:grid;grid-template-columns:repeat(3,1fr);gap:6px;@media (min-width:735px){gap:10px;}"]),Kt=s.default.img.withConfig({displayName:"styles__Photo",componentId:"sc-1e5v30z-9"})(["width:100%;height:160px;object-fit:cover;object-position:center;cursor:pointer;"]);function Zt(){var e=Object(T.h)().username,t=Object(r.useState)(null),n=Object(x.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)([]),c=Object(x.a)(o,2),s=c[0],d=c[1],l=Object(r.useState)(!1),p=Object(x.a)(l,2),f=p[0],h=p[1],g=Object(r.useState)(!1),O=Object(x.a)(g,2),w=O[0],y=O[1],v=Object(r.useState)(null),k=Object(x.a)(v,2),C=k[0],_=k[1],I=Object(r.useState)(!1),N=Object(x.a)(I,2),S=N[0],z=N[1],F=P().deleteFollowAction;if(Object(r.useEffect)((function(){function t(){return(t=Object(b.a)(u.a.mark((function t(){var n,r,a,o,c,s,l,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.get("/user/".concat(e));case 2:n=t.sent,console.log(n.data),r=n.data,a=r.isFollow,o=r.isProfile,c=r.userFollowersCount,s=r.userFollowsCount,l=r.userPhotosCount,p=r.user,h(a),_({userFollowersCount:c,userFollowsCount:s,userPhotosCount:l}),y(o),i(p),d(p.photos);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),Object(r.useMemo)((function(){return!(a&&a.id)}),[a]))return Object(j.jsx)("p",{children:"Loading.."});function E(e){return A.apply(this,arguments)}function A(){return(A=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{z(!0),F(t),h(!f)}catch(n){console.log(n)}finally{z(!1)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)(he,{children:Object(j.jsxs)(Bt,{children:[Object(j.jsxs)(Tt,{children:[a.avatar?Object(j.jsx)(Dt,{src:"data:image/png;base64, ".concat(a.avatar)}):Object(j.jsx)(Dt,{src:D}),Object(j.jsxs)("div",{children:[Object(j.jsx)(Mt,{children:a.username}),w?Object(j.jsx)(B.b,{to:"/edit/".concat(e),children:Object(j.jsx)(qt,{children:"Edit Profile"})}):f?Object(j.jsx)(Vt,{onClick:function(){return E(a.id)},disabled:!!S,children:S?"Loading...":"Following"}):Object(j.jsx)(Vt,{onClick:function(){return E(a.id)},disabled:!!S,children:S?"Loading...":"Follow"}),Object(j.jsxs)(Gt,{children:[Object(j.jsxs)("span",{children:[C.userPhotosCount,":Photos"]}),Object(j.jsxs)("span",{children:[C.userFollowersCount," Followers"]}),Object(j.jsxs)("span",{children:[C.userFollowsCount," Following"]})]})]}),Object(j.jsxs)(Jt,{children:[Object(j.jsx)("p",{children:a.name}),Object(j.jsx)("span",{children:a.bio})]})]}),Object(j.jsx)(Wt,{children:s.length>0&&s.map((function(e){return Object(j.jsx)(B.b,{to:"/photo/".concat(e.id),children:Object(j.jsx)(Kt,{src:"data:image/png;base64, ".concat(e.key)})},e.id)}))})]})})}var Ht,Qt=n(48),Xt=s.default.div.withConfig({displayName:"styles__Container",componentId:"sc-1ukxnaw-0"})(["height:100vh;display:flex;justify-content:center;align-items:center;@media (max-width:450px){align-items:flex-start;}"]),Yt=s.default.form.withConfig({displayName:"styles__Form",componentId:"sc-1ukxnaw-1"})(["background:#fff;width:100%;border:1px solid #e6e6e6;border-radius:4px;padding:20px 40px;display:flex;flex-direction:column;align-items:center;> img{border-radius:50%;height:200px;width:200px;margin:1rem 0;}p{color:#999;font-size:14px;margin:0.7rem 0;color:indianred;}@media (max-width:450px){background:transparent;border:0;}hr{width:100%;color:#e6e6e6;margin:30px 0;}span{text-align:center;color:#999;font-size:20px;margin:15px 0;&.footer{font-size:12px;}}input{width:100%;max-width:350px;margin-bottom:7px;padding:10px 8px;font:400 13.333px Arial;background-color:#fff;border:1px solid #e6e6e6;border-radius:4px;}button{width:100%;padding:9px 9px;background-color:#3897f0;border:1px solid #3897f0;border-radius:4px;margin-top:20px;font:bold 13.333px Arial;color:#fff;cursor:pointer;outline:0px;&:hover{background-color:#38ff;}}label{display:flex;width:100%;align-items:center;margin:0.7rem 0;}height:auto;"]),$t=s.default.div.withConfig({displayName:"styles__FormContainer",componentId:"sc-1ukxnaw-2"})(["width:100%;height:auto;@media (min-width:450px){max-width:350px;}"]);function en(){var e=O(),t=e.user,n=e.error,a=e.editUser,i=e.setError,o=Object(r.useState)(""),c=Object(x.a)(o,2),s=c[0],d=c[1],l=Object(r.useState)({name:t.name,username:t.username,email:t.email,password:t.password,bio:t.bio}),p=Object(x.a)(l,2),f=p[0],h=p[1],g=Object(r.useRef)(null),w=Object(r.useRef)(null),y=function(e){h(Object(rt.a)(Object(rt.a)({},f),{},Object(Qt.a)({},e.target.name,e.target.value)))},v=Object(r.useCallback)(Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=w.current.files[0],(n=new FormData).append("file",t,t.name),e.next=6,m.post("/user/avatar",n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&i(e.t0.response.data.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(he,{children:Object(j.jsx)(Xt,{children:Object(j.jsx)($t,{children:Object(j.jsxs)(Yt,{ref:g,onSubmit:function(e){e.preventDefault(),s&&v(),function(){var e=f.name,t=f.username,n=f.bio,r=f.email,i=f.password;a({name:e,username:t,bio:n,email:r,password:i})}()},children:[Object(j.jsx)("span",{children:"Edit your profile"}),n&&n.map((function(e){return Object(j.jsxs)("p",{children:["\u2666",e]})})),s?Object(j.jsx)("img",{src:s,alt:"avatar"}):t.avatar?Object(j.jsx)("img",{src:"data:image/png;base64, ".concat(t.avatar),alt:"avatar"}):Object(j.jsx)("img",{src:D,alt:"avatar"}),Object(j.jsx)("input",{name:"file",type:"file",ref:w,onChange:function(e){return d(URL.createObjectURL(e.target.files[0]))}}),Object(j.jsx)("input",{name:"name",placeholder:"Name",value:f.name,onChange:y}),Object(j.jsx)("input",{name:"username",placeholder:"Username",value:f.username,onChange:y}),Object(j.jsx)("input",{name:"password",type:"password",placeholder:"Password",value:f.password,onChange:y}),Object(j.jsx)("input",{name:"email",placeholder:"Email",type:"email",value:f.email,onChange:y}),Object(j.jsx)("input",{name:"bio",placeholder:"Bio",value:f.bio,onChange:y}),Object(j.jsx)("p",{children:"To persist changes you must login again"}),Object(j.jsx)("button",{type:"submit",children:"Update"})]})})})})})}function tn(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(B.a,{children:Object(j.jsxs)(T.d,{children:[Object(j.jsx)(Lt,{exact:!0,path:"/",component:Ze,isPrivate:!0}),Object(j.jsx)(Lt,{exact:!0,path:"/photo/:photoId",component:Ut,isPrivate:!0}),Object(j.jsx)(Lt,{exact:!0,path:"/profile/:username",component:Zt,isPrivate:!0}),Object(j.jsx)(Lt,{exact:!0,path:"/edit/:username",component:en,isPrivate:!0}),Object(j.jsx)(Lt,{exact:!0,path:"/signup",component:pt}),Object(j.jsx)(Lt,{exact:!0,path:"/signin",component:_t})]})})})}var nn=Object(s.default)(d.BaseModalBackground)(Ht||(Ht=Object(c.a)(["\n  opacity: ",";\n  transition: opacity ease 200ms;\n"])),(function(e){return e.opacity}));var rn,an=function(){return Object(j.jsx)(E,{children:Object(j.jsx)(d.ModalProvider,{backgroundComponent:nn,children:Object(j.jsx)(tn,{})})})},on=Object(s.createGlobalStyle)(rn||(rn=Object(c.a)(['\n    *{\n        margin: 0;\n        padding: 0;\n        outline: 0;\n        box-sizing: border-box;\n    }\n    html, body, #root {\n        height: 100%\n    }\n    body{\n        background-color: #f6f6f6;\n        -webkit-font-smoothing: antialiased;\n    }\n    body, input, button {\n        font-family: Arial, sans-serif\n    }\n    h1,h2,h3,h4,h5,p {\n        margin: 0;\n        font-family: "Roboto",sans-serif\n    }\n    input{\n        &::placeholder {\n            color: rgba(0,0,0,0.3);\n            font:400 13px Arial;\n        }\n    }\n'])));o.a.render(Object(j.jsxs)(a.a.StrictMode,{children:[Object(j.jsx)(on,{}),Object(j.jsx)(an,{})]}),document.getElementById("root"))}},[[231,1,2]]]);
//# sourceMappingURL=main.43730089.chunk.js.map